{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return p}));var c=n(\"nKUr\"),i=n(\"q1tI\"),r=n(\"1zst\"),a=n(\"ODXe\"),o=n(\"Vl3Y\"),l=n(\"5rEg\"),s=n(\"2/Rp\"),u=n(\"/MKj\"),d=n(\"p+NB\"),j=n(\"3zrx\"),f=function(){var e=Object(u.c)((function(e){return e.post})),t=e.imagesPaths,n=e.addPostDone,r=Object(j.a)(\"\"),f=Object(a.a)(r,3),b=f[0],p=f[1],O=f[2],h=Object(u.b)();Object(i.useEffect)((function(){n&&O(\"\")}),[n]);var m=Object(i.useCallback)((function(){if(!b||!b.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694\");var e=new FormData;return t.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",b),h({type:d.e,data:e})}),[b,t]),v=Object(i.useRef)(),w=Object(i.useCallback)((function(){v.current.click()}),[v.current]),x=Object(i.useCallback)((function(e){console.log(\"images\",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),h({type:d.G,data:t})}),[]),g=Object(i.useCallback)((function(e){return function(){h({type:d.v,data:e})}}),[]);return Object(c.jsxs)(o.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:m,children:[Object(c.jsx)(l.a.TextArea,{value:b,onChange:p,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc0dd\\uac01\\uc744 \\uac16\\uace0 \\uacc4\\uc2e0\\uac00\\uc694?\"}),Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:v,onChange:x}),Object(c.jsx)(s.a,{onClick:w,children:\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"}),Object(c.jsx)(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\",children:\"\\uc9f9\\uc9f9\"})]}),Object(c.jsx)(\"div\",{children:t.map((function(e,t){return Object(c.jsxs)(\"div\",{style:{display:\"inline-block\"},children:[Object(c.jsx)(\"img\",{src:\"http://localhost:3080/\".concat(e),style:{width:\"200px\"},alt:e}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(s.a,{onClick:g(t),children:\"\\uc81c\\uac70\"})})]},e)}))})]})},b=n(\"kduo\"),p=!0;t.default=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user})).me,n=Object(u.c)((function(e){return e.post})),a=n.mainPosts,o=n.hasMorePosts,l=n.loadPostsLoading,s=n.retweetError;return Object(i.useEffect)((function(){s&&alert(s)}),[s]),Object(i.useEffect)((function(){function t(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&o&&!l){var t,n=null===(t=a[a.length-1])||void 0===t?void 0:t.id;e({type:d.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[o,l,a]),Object(c.jsxs)(r.a,{children:[t&&Object(c.jsx)(f,{}),a.map((function(e){return Object(c.jsx)(b.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,2,6,0,3,4,5,7]]]);","extractedComments":[]}